# 데이터 모델링
## 데이터 모델링의 개념
- 데이터 모델링을 건축에 비유하면 지반 설계를 하는 것<br>데이터 모델링을 잘 해놔야 개발이 순탄해짐
### 데이터베이스 생명주기
1. 요구사항 수집 및 분석
    - 사용자들의 요구사항을 듣고 분석하여 데이터베이스 구축의 범위를 정하는 단계
2. 설계
    - 분석된 요구사항을 기초로 주요 개념과 업무 프로세스 등을 식별(개념적 설계), 사용하는 DBMS의 종류에 맞게 변환(논리적 설계) 후 데이터베이스 스키마를 도출(물리적 설계)
3. 구현
    - 설계 단계에서 생성한 스키마를 실제 DBMS에 적용하여 데이블 및 관련 객체를 만듬
    - 관련 소프트웨어에 설계한 데이터베이스를 적용하여 설비스를 제공할 수 있도록 프로그램 완성
4. 운영
    - 구현된 데이터베이스를 기반으로 소프트웨어를 구축하여 서비스 제공
5. 감시 및 개선
    - 시스템의 문제를 관찰, 문제점을 파악하여 개선 및 지속적인 운영을 위해 변경 및 보수를 함
### 데이터 모델링 과정
- 구축-사용-개선-재구축 의 순환
#### 요구사항 수집 및 분석
- 실제 문서를 수집하고 분석한다
- 담당자와의 인터뷰나 설문조사를 통해 요구사항을 직접 수렴한다
- 비슷한 업무를 처리하는기존의 데이터베이스를 분석한다
- 각 업무와 연관된 모든 부문을 살펴본다
#### 개념적 모델링
- 요구사항을 수집하고 분석한 결과를 토대로 업무의 핵심적인 개념을 구분하고 전체적인 뼈대를 만드는 과정
- 핵심적인 개념을 구분한다는 것은 개체를 추출하고 각 개체들 간의 관계를 정의하여 ER 다이어그램을 만드는 과정
#### 논리적 모델링
- 개념적 모델링에서 만든 ER 다이어그램을 사용하고자 하는 DBMS에 맞게 사상하여 실제 데이터베이스로 구현하기 위한 모델을 만드는 과정
- 논리적 모델링을 만드는 과정
    - 개념적 모델링에서 추출하지 않았던 상세 속성들을 모두 추출
    - 정규화를 수행
    - 데이터의 표준화를 수행
#### 물리적 모델링
- 작성된 논리적 모델을 실제 컴퓨터의 저장 장치에 저장하기 위한 물리적 구조를 정의하고 구현하는 과정
- 트랜잭션, 저장 공간 설계 측면에서 고려할 사랑
    - 응답시간을 최소화해야 한다
    - 얼마나 많은 트랜잭션을 동시에 발생시킬 수 있는지 검토해야 한다
    - 데이터가 저장될 공간을 효율적으로 배치해야 한다
## ER 모델
- 개념적 모델링에 사용하는 모델로 세상의 사물을 개체와 개체 간의 관계로 표현
- 개체는 특성을 나타내는 속성으로 식별하고 개체끼리는 서로 관계를 가짐
### 개체와 개체 타입
- 개체는 사람, 사물, 장소, 개념, 사건과 같이 유무혀으이 정보를 가지고 있는 독립적인 실체
- 개체는 비슷한 속성을 가진 개체타입을 구성하고 개체 집합으로 묶임
#### 개체 타입의 ER 다이어그램 표현
- ER 다이어그램 상에서 개체 타입은 직사각형으로 나타냄
- 보통'개체'라고 부르는 강한 개체 타입과 약한 개체 타입으로 구분되고 강한은 직사각형 약한은 이중 직사각형으로 나타냄
#### 개체 타입의 유형
- 강한 개체 타입은 다른 개체의 도움 없이 독자적으로 존재 가능
- 약한 개체 타입은 독자적으로는 존재할 수 없고 반드시 상위 개체 타입을 가짐
### 속성
- 개체가 가진 성질을 뜻함
#### 속성의 ER 다이어그램 표현
- 기본적으로 타원으로 표현, 개체 타입을 나타내는 직사각형과 실선으로연결됨
#### 속성의 유형
- 단순 속성과 복합 속성
    - 단순 속성은 더 이상 분해가 불가능한 속성
    - 복합 속성은 독립적인 의미를 가진 속성으로 분해 가능한 속성
- 속성 이름 아래에 밑줄이 표시된 속성을 키 속성이라고 함
- 단일값 속성은 하나의 값만을 가지는 속성, 다중값 속성은 여러개의 값을 가지는 속성
- 저장 속성은 다른 속성의 영향 없이 단독으로 저장되는 속성, 유도 속성은 다른 저장 속성으로붙터 유도된 속성
### 관계와 관계 타입
- 관계 타입은 개체 타입과 개체 타입 간의 연결 가능한 관계를 정의한 것
- 관계 타입은 마름모로 표현하며 관계 타입의 이름은 기호의 중앙에 표기
#### 관계 타입의 유형
- 차수에 따른 유형
    - 관게 집합에 참가하는 개체 타입의 수를 관계 타입의 차수라고 함
    - 1진 관계 : 한 개의 개체가 자기 자신과 관계를 맺는 경우
    - 2진 관계 : 두개의 개체가 관계를 맺는 경우
    - 3진 관계 : 세 개의 개체가 관계를 맺는 경우
- 관계 대응 수에 따른 유형
    - 일대일 관계 : 좌측 개체 타입에 포함된 개체가 우측 개체 타입에 포함된 개체와 일대일로 대응하는 관계
    - 일대다, 다대일 관계 : 한쪽 개체 타입의 개체 하나가 다른 쪽 개체 타입의 여러 개체와 관계를 맺는 경우
    - 다대다 관계 : 각 개체 타입의 개체들이 서로 임의의 개수의 개체들과 서로 복합적인 관계를 맺고 있는 경우
#### ISA 관계
- 상하 관계를 보이는 관계에서 상위 개체 타입의 특성에 따라 하위 개체 타입이 결정되는 형태
- 역삼각형으로 표현하며 역삼각형 위에는 슈퍼클래스, 아래에는 각각의 서브클래스를 관계 실선으로 연결
#### 참여 제약 조건
- 개체 집합 내 모든 개체가 관계에 참여하는지 유무에 따라 전체 참여와 부분참여로 구분
- 전체 참여는 개체 집합의 모든 개체가 관계에 참여하고, 부분 참여는 일부만 참여
#### 역할
- 각 개체들은 고유한 역할을 담당 ex) 교수는 가르친다, 학생은 가르침 받는다
#### 순환적 관계
-  하나의 개체 타입이 동일한 개체 타입과 순환적으로 관계를 가지는 형태
### 약한 개체 타입과 식별자
- 가족 개체 타입처럼 상위 개체 타입이 결정되지 않으면 개별 개체를 식별할 수 없는 종속된 개체 타입
- 약한 개체 타입은 자신의 기본키만으로 식별이 어려우므로 상위의 강한 개체 타입의 기본키를 상속받아 사용
### IE 표기법
- 관계 대응 수를 새발 모양의 기호로 표현하여 새발 표기법이라고도 부름
## ER 모델을 관계 데이터 모델로 사상
### 개체 타입의 사상
1. 강한(정규) 개체 타입
    - 각 개체 타입의 일반 속성은 각각 새로 생성하는 릴레이션의 속성으로 표시
2. 약한 개체 타입
    - 자신의 키와 함께 강한 개체 타입의 키를 외래키로 사상하여 자신의 기본키를 구성
3. 이진 1:1 관계 타입
    - 방법 1~4까지 모든 유형으로 사상할 수 있음( p.340 참고 )
4. 이진 1:N 관계 타입
    - N의 위치에 따라 방법1,2의 유형으로 사상됨
5. 이진 M:N 관계 타입
    - 방법 4의 유형으로 사상됨
    - 양쪽 모두 다수의 대응 수를 가지므로 새로운 릴레이션을 반드시 생성해야함
6. N진 관계 타입
    - ER 모델의 차수가 3 이상인 다진 관계 타입의 경우 방법 4의 유형으로 사상
7. 다중값 속성
    - 속성의 개수를 알 수 없는 경우 방법1, 속성의 개수가 제한적으로 정해지는 경우 방법2를 사용
    - 다중 값 속성의 개수를 알 수 없는 경우 새로운 릴레이션을 생성

