# 정규화
## 이상현상
- 이상현란 : 테이블에 투플을 삽입할 때 부득이하게 NULL 값이 입력되거나, 삭제 시 연쇄삭제 현상이 발생하거나, 수정 시 데이터의 일고나성이 훼손되는 현상
- 삭제이상 : 투플 삭제 시 가이 저장된 다른 정보까지 연쇄적으로 삭제되는 현상
- 삽입이상 : 투플 삽입 시 특정 속성에 해당하는 값이 없어 NULL 값을 입력해야 하는 현상
- 수정이상 : 투플 수정 시 중복된 데이터의 일부만 수정되어 데이터의 불일치 문제가 일어나는 현상<br>
*** 교재 참고해서 실습<br>
## 함수 종속성
- 정규화 : 이상현상이 발생하는 테이블을 수정하여 정상으로 만드는 과정
- 어떤 속성 A로 다른 속성 B의 값이 유일하게 정해지는 의존 관계를 '속성 B는 속성 A에 종속한다'<br>A->B로 표기하며, A는 B의 결정자
### 함수 종속성 다이어그램
- 함수 종속성 다이어그램은 릴레이션의 속성을 직사각형, 속성 가느이 함수 종속성을 화살표로 나타냄
- 결정자가 복합 속성일 수 있다는 점을 주의
### 함수 종속성 규칙
- X -> X와 같은 자기 자신에 대한 것은 무조건 성립

| 적용규칙 | 사례 | 설명 |
| --- | --- | --- |
| 부분집합 규칙 | (학과,주소) -> 학과 | 학과는 (학과,주소)의 부분집합 속성이므로,'(학과,주소)->학과' 성립 |
| 증가 규칙 | (학생번호,강좌이름)-><br>(학생이름,강좌이름) | '학생번호 -> 학생이름'이므로 강좌이름을 추가하여,<br>'(학생이름,강좌이름)->(학생이름,강좌이름)' 성립 |
| 이행 규칙 | 학생번호->학과사무실 | '학생번호->학과','학과->학과사무실'이므로 이행 규칙을 적용하여,'학생번호->학과사무실'성립 |
| 결합 규칙 | 학생번호->(학생이름,주소) | '학생번호->학생이름','학생번호->주소'이므로 결합 규칙을 적용하여, '학생번호->(학생이름,주소)'성립 |
| 분해 규칙 | 학생번호 -> 학생이름,학생번호->주소 | '학생번호->(학생이름,주소)' 이므로 분해하여, '학생번호->학생이름','학생번호->주소'성립 |
| 유사이행 규칙 | (강좌이름,학생이름)->성적 | '학생이름->학생번호'(학생이름이 같은 경우가 없다고 가정한다),'(강좌이름,학생번호)->성적'이므로 유사이행 규칙을 적용하여, '(강좌이름,학생이름)-> 성적'성립 |

### 함수 종속성과 기본키
- 릴레이션  R(K,A1,A2,A3)에서 K가 기본키며, K->R이 성립

### 이상현상과 결정자
- 이상현상은 한 개의 릴레이션에 두 개 이상의 정보가 포함되어 있을 때 나타남<br>
*** 이상현상을 없애는 실습(p406) 참고<br>

## 정규화
- 대부분의 이상현상은 두 가지 이상의 정보가 한 릴레이션에 저장되어 있기 때문에 발생
- 이상현상이 발생하는 릴레이션을 분해하여 이상현상을 없애는 과정이 정규화

### 정규화 과정
- 이상현상을 일으키는 함수 종속성의 유형에 따라 등급을 구분하고 정규형이 높을수록 이상현상이 줄어듬
#### 제 1정규형
- 릴레이션 R의 모든 속성 값이 원자값을 가지면 제 1정규형

#### 제 2정규형
- 릴레이션 R이 제 1정규형이고 기본키가 아닌 속성이 기본키에 완전 함수 종속일 때
- 완전 함수 종속 : A와 B가 릴레이션 R의 속성이고 A->B 종속성이 성립할 때, B가 A의 속성 전체에 함수 종속하고 부분 집합 속성에 함수 종속하지 않을 경우

#### 제 3정규형
- 릴레이션 R이 제 2정규형이고 기본키가 아닌 속성이 기본키에 비이행적으로 종속할 때(직접 종속).<br>이행적 종속이란 A->B,B->C가 성립할 때 A->C가 성립되는 함수 종속성을 말함

#### BCNF 정규형
- 릴레이션 R에서 함수 종속성 X->Y가 성립할 때 모든 결정자 X가 후보키일 때

### 무손실 분해
- 릴레이션 R을 릴레이션 R1과 R2로 분해할 때, R1▷◁R2=R일 때<br>무손실 분해를 위한 조건은 R1∩R2->R1이나 R1∩R2->R2 중 하나를 만족해야함