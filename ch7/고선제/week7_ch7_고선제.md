# 01. 이상현상

### 삭제이상

- 투플 삭제 시 같이 저장된 다른 정보까지 연쇄적으로 삭제되는 현상

→ 연쇄삭제 문제

### 삽입이상

- 투플 삽입 시 특정 속성에 해당하는 값이 없어 NULL값을 입력해야 하는 현상이다.

→ NULL 값 문제 발생

### 수정이상

- 투플 수정 시 중복된 데이터의 일부만 수정되어 데이터의 불일치 문제가 일어나는 현상

→ 일관성 없음 문제 발생

# 02. 함수 종속성

### 함수 종속성의 개념

- 정규화
    - 이상현상이 발생하는 테이블을 수정하여 정상으로 만드는 과정
- 함수종속성
    - 릴레이션의 속성 간에 함수적으로 종속하는 성질

- 릴레이션의 각 속성 사이에는 의존성이 존재한다.
- 어떤 속성 A의 값을 알면 다른 속성 B의 값이 유일하게 정해지는 의존관계

→ ‘속성 B는 속성A에 종속한다’ 혹은 ‘속성 A는 속성 B를 결정한다’

→ ‘A→B’ A는 B의 결정자라고 한다.

- 함수 종속성을 판단할 때는 릴레이션의 현재 인스턴스(데이터)만을 가지고 판단하는 것이 아닌 속성이 갖는 의미를 가지고 판단해야 한다.

### 함수 종속성 규칙

- X,Y,Z가 릴레이션 R에 포함된 속성의 집합이라고 할 때, 함수 종속성에 관한 다음과 같은 규칙이 성립한다.
    - 부분집합 규칙
    - 증가 규칙
    - 이행 규칙
    - 결합 규칙
    - 분해 규칙
    - 유사이행 규칙

### 함수 종속성과 기본키

- 릴레이션의 함수 종속성을 파악하기 위해서는 우선 기본키를 찾아야 한다.
- 기본키가 함수 종속성에서 어떤 역할을 하는지 알면 이상현상을 제거하는 정규화 과정을 쉽게 이해할 수 있다.
- 릴레이션 R에서 K가 기본키이면, K→R이 성립한다. 즉 기본키는 릴레이션의 모든 속성에 대해 결정자이다.

### 이상현상과 결정자

- 이상현상은 한 개의 릴레이션에 두 개 이상의 정보가 포함되어 있을 때 나타난다.
    - 기본키가 아니면서 결정자인 속성이 있을 때 발생한다.

# 03. 정규화

- 정규화
    - 이상현상이 발생하는 릴레이션을 분해하여 이상현상을 없애는 과정

### 제 1정규형

- 릴레이션의 속성 값이 원자 값이어야 한다.
- 중복된 엔트리가 있으면 안된다.
- 튜플 하나당 속성값이 하나만 존재해야 한다.

### 제 2정규형

- 릴레이션의 기본키가 복합키일 때, 복합키의 일부분이 다른 속성의 결정자인지 여부를 판단하는 것이다.
- partial functional dependency가 없어야 한다.
- 기본키의 일부분에 종속되는 속성이 없어야 한다는 것이다.

### 제 3정규형

- 속성들이 이행적으로 종속되어 있는지 여부를 판단하는 것이다.
    - 이행적 종속이란 A→B가 성립할 때 A→C가 성립되는 함수 종속성을 말한다.

### BCNF

- 릴레이션에 존재하는 함수 종속성에서 모든 결정자가 후보키이면 BCNF(Boyce Codd Normal Form)정규형이다.
- candidate key가 아닌 컬럼이 결정자가 되어서는 안된다는 것이다.

### 무손실 분해

- 분해된 릴레이션 간의 관계를 유지하기 위해 분해된 릴레이션에 공통 속성을 한 개 이상 두어야 한다는 것이다.

- 제 4정규형 : 다치종속성 제거
- 제 5정규형 : 프로젝트-조인 정규형